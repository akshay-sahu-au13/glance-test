{"id":"jN9r","dependencies":[{"name":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\tsconfig.json","includedInParent":true,"mtime":1627401691037},{"name":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\.babelrc","includedInParent":true,"mtime":1627401691025},{"name":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\package.json","includedInParent":true,"mtime":1628275493700},{"name":"preact","loc":{"line":1,"column":18},"parent":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\components\\categories\\category_choices.tsx","resolved":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\node_modules\\preact\\dist\\preact.module.js"},{"name":"goober","loc":{"line":2,"column":31},"parent":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\components\\categories\\category_choices.tsx","resolved":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\node_modules\\goober\\dist\\goober.esm.js"},{"name":"../../scripts/glanceJsBridge","loc":{"line":3,"column":65},"parent":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\components\\categories\\category_choices.tsx","resolved":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\scripts\\glanceJsBridge.ts"},{"name":"preact/hooks","loc":{"line":4,"column":44},"parent":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\components\\categories\\category_choices.tsx","resolved":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\node_modules\\preact\\hooks\\dist\\hooks.module.js"},{"name":"../../lotties/endCTA.json","loc":{"line":5,"column":19},"parent":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\components\\categories\\category_choices.tsx","resolved":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\lotties\\endCTA.json"},{"name":"lottie-web","loc":{"line":6,"column":19},"parent":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\src\\components\\categories\\category_choices.tsx","resolved":"C:\\Users\\Akshay\\OneDrive\\Documents\\GitHub\\GlanceWebpeeks\\user_onboarding\\node_modules\\lottie-web\\build\\player\\lottie.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _preact = require(\"preact\");\n\nvar _goober = require(\"goober\");\n\nvar _glanceJsBridge = require(\"../../scripts/glanceJsBridge\");\n\nvar _hooks = require(\"preact/hooks\");\n\nvar _endCTA = _interopRequireDefault(require(\"../../lotties/endCTA.json\"));\n\nvar _lottieWeb = _interopRequireDefault(require(\"lottie-web\"));\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar rotate = (0, _goober.keyframes)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  from {\\n    transform: rotate(-15deg) translateX(-20%) translateY(0vh)  scale(1.2) ;\\n  }\\n  to {\\n    transform: rotate(0deg) translateX(0%) translateY(-8vh) scale(1)  ;\\n  }\\n\"])));\nvar bgImage = (0, _goober.css)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    width: 105vw;\\n    opacity: 0.6;\\n    transform: translateY(-8vh);\\n    animation: \", \" 0.3s linear;\\n  \"])), rotate);\nvar bgImageHidden = (0, _goober.css)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  opacity: 0;\\n  transition: 0.4s ease-out;\\n\"])));\nvar catg_container_item = (0, _goober.css)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    position: relative;\\n    & .catgs {\\n      position: absolute;\\n      top: 3%;\\n      left: 50%;\\n      transform: translateX(-50%);\\n      display: flex;\\n      flex-direction: column;\\n      align-items: center;\\n      justify-content: center;\\n\\n      & p {\\n        width: 200px;\\n        font-size: 18px;\\n        margin: 8px 0;\\n        letter-spacing: 0.5px;\\n        text-align: center;\\n        @media (min-width: 450px) {\\n          \\n          width: 200px;\\n          font-size: 20px;\\n          margin: 10px 0;\\n          text-align: center;\\n          \\n        }\\n      }\\n\\n      & button {\\n        border: none;\\n        background-color: rgba(255, 255, 255, 0.3);\\n        color: #fff;\\n        padding: 7px 10px;\\n        border-radius: 50px;\\n        font-size: 85%;\\n        width: 85px;\\n        & span {\\n          display: inline-block;\\n          padding-right: 3px;\\n        }\\n        @media (min-width: 450px) {\\n          border: none;\\n          background-color: rgba(255, 255, 255, 0.3);\\n          color: #fff;\\n          padding: 10px 15px;\\n          border-radius: 50px;\\n          font-size: 90%;\\n          width: 95px;\\n        }\\n      }\\n    }\\n  \"])));\n;\n\nvar CategoryChoices = function CategoryChoices(_ref) {\n  var bgImg = _ref.bgImg,\n      bgColor = _ref.bgColor,\n      isSelected = _ref.isSelected,\n      catg = _ref.catg,\n      depth = _ref.depth,\n      setCategories = _ref.setCategories,\n      name = _ref.name,\n      categories = _ref.categories,\n      startTime = _ref.startTime;\n  var catg_container = (0, _goober.css)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n    height: 33vh;\\n    width: 156vw;\\n    display: flex;\\n    justify-content: center;\\n    background-color: \", \";\\n    border-radius: 100% 100% 0 0;\\n    transform: translateX(-16.9%);\\n    position: absolute;\\n    top: calc(24% + \", \");\\n    left: 0;\\n    overflow-x: hidden;\\n    overflow-y: hidden;\\n\"])), bgColor, depth);\n  var playerRef = (0, _hooks.useRef)(null);\n  var lottieRef = (0, _hooks.useRef)(null);\n\n  var _useState = (0, _hooks.useState)(isSelected),\n      _useState2 = _slicedToArray(_useState, 2),\n      following = _useState2[0],\n      setFollowing = _useState2[1];\n\n  (0, _hooks.useEffect)(function () {\n    if (playerRef.current) {\n      lottieRef.current = _lottieWeb.default.loadAnimation({\n        container: playerRef.current,\n        loop: true,\n        autoplay: true,\n        renderer: 'svg',\n        animationData: _endCTA.default\n      });\n    }\n\n    ;\n  }, []);\n  var eventType = 'category_webpeek';\n  var actions = {\n    sub: 'category_subscribed',\n    unSub: 'category_unsubscribed',\n    time_spent: \"time_spent_on_category_summary_page\"\n  };\n\n  var handleClick = function handleClick() {\n    setFollowing(!following);\n    var data = Object.assign({}, categories);\n    data[catg] = !data[catg];\n    setCategories(Object.assign({}, data));\n    console.log(data);\n    (0, _glanceJsBridge.updateCategorySubscriptions)(JSON.stringify(data)); // updating subscription status\n\n    if (!following) {\n      console.log(\"Subscribed\");\n      var extras = {\n        action: actions.sub,\n        category: catg\n      };\n    } else {\n      console.log(\"UnSubscribed\");\n      extras = {\n        action: actions.unSub,\n        category: catg\n      };\n    }\n\n    ;\n    (0, _glanceJsBridge.sendCustomAnalytics)({\n      eventType: eventType,\n      extras: extras\n    });\n  }; // const handleLottieClick = () => {\n  //   const endTime = Date.now() - startTime;\n  //   console.log(\"Start time: \", startTime, \"endTime\", endTime);\n  //   const extras = { action: actions.time_spent, total_time: `${endTime} ms` };\n  //   sendCustomAnalytics({ eventType, extras });\n  //   glanceMoveToNext();\n  // };\n\n\n  return (0, _preact.h)(\"div\", {\n    className: catg_container\n  }, (0, _preact.h)(\"div\", {\n    className: catg_container_item\n  }, following ? (0, _preact.h)(\"img\", {\n    src: bgImg,\n    alt: \"category image\",\n    className: bgImage\n  }) : (0, _preact.h)(\"img\", {\n    src: bgImg,\n    alt: \"category image\",\n    className: bgImageHidden\n  }), (0, _preact.h)(\"div\", {\n    className: \"catgs\"\n  }, (0, _preact.h)(\"p\", null, name), bgImg !== \"\" && (0, _preact.h)(\"button\", {\n    type: 'button',\n    onClick: handleClick\n  }, following ? 'Following' : (0, _preact.h)(\"div\", null, \" \", (0, _preact.h)(\"span\", null, \"+\"), \" Follow\"))) // {bgImg === \"\" ? <div ref={lottieRef} className={lotties}>\n  //   <div onClick={handleLottieClick} ref={playerRef} className={lottiePlayer}></div>\n  // </div> : null}\n  , \"// \", bgImg === \"\" ? (0, _preact.h)(\"div\", {\n    ref: lottieRef,\n    className: lotties\n  }, \"//   \", (0, _preact.h)(\"div\", {\n    onClick: handleLottieClick,\n    ref: playerRef,\n    className: lottiePlayer\n  }) // </div> : null}\n  , \"// \") : null));\n};\n\nvar _default = CategoryChoices;\nexports.default = _default;"},"sourceMaps":null,"error":null,"hash":"2731384b123d2745e33d305c4a42c6f6","cacheData":{"env":{}}}